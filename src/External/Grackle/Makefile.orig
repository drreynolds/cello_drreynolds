INT   = SMALL_INTS
FLOAT = CONFIG_BFLOAT_4
ARCH = LINUX

DEFINES = -DLINUX -DH5_USE_16_API -fPIC -DLARGE_INTS  -DCONFIG_BFLOAT_8

INCLUDES = -I/usr/local/hdf5/1.8.2s/include     -I.

CPPFLAGS = -P -traditional
CFLAGS   =  -O2
CXXFLAGS =  -O2
FFLAGS   = -fno-second-underscore -ffixed-line-length-132 -fdefault-real-8 -fdefault-double-8 -fdefault-integer-8  -O2
F90FLAGS = -fno-second-underscore -fdefault-real-8 -fdefault-double-8 -fdefault-integer-8  -O2
LDFLAGS  =  -O2

LIBS     = -L/usr/local/hdf5/1.8.2s/lib -lhdf5 -lz  -lgfortran 

OBJ := calculate_cooling_time.o \
	calculate_cooling_time_table.o \
	calculate_gamma.o \
	calculate_pressure.o \
	calculate_pressure_table.o \
	calculate_temperature.o \
	calculate_temperature_table.o \
	initialize_chemistry_data.o \
	initialize_cloudy_data.o \
	initialize_UVbackground_data.o \
	set_default_chemistry_parameters.o \
	solve_chemistry.o \
	solve_chemistry_table.o \
	update_UVbackground_rates.o
SRC := $(patsubst %.o,%.C,$(OBJ))

all: $(OBJ)
.C.o: 
	$(CXX) $(DEFINES) $*.C -c
.F.o: 
	$(F90) $(F90FLAGS) $*.C -c
libgrackle.so: $(OBJ)
	$(LD) $(LDFLAGS) libgrackle.so $(OBJ)
