/* External defines: 
 *
 * CHECK_PAPI
 * FORTRAN_UNDERSCORE
 * PAPI3
 * USE_PAPI
 */

#ifndef LCAPERF_DEF
#define LCAPERF_DEF

/*----------------------------------------------------------------------*/
/* Set lcaperf version number */
/*----------------------------------------------------------------------*/

#define LCAP_VERSION_MAJOR 2
#define LCAP_VERSION_MINOR 0

/*----------------------------------------------------------------------*/
/* Handle -D FORTRAN_UNDERSCORE */
/*----------------------------------------------------------------------*/

#ifdef FORTRAN_UNDERSCORE
#   define LCAP_FORTRAN(NAME) NAME##_
#else
#   define LCAP_FORTRAN(NAME) NAME
#endif

/*----------------------------------------------------------------------*/
/* Define error / debugging strings */
/*----------------------------------------------------------------------*/

#define _ERROR "*** lcaperf ERROR *** %s:%d: "
#define _DEBUG "*** lcaperf DEBUG *** %s:%d: "

/*----------------------------------------------------------------------*/
/* Handle -D USE_PAPI */
/*----------------------------------------------------------------------*/

#ifdef CONFIG_USE_PAPI
#  define _CALL_PAPI(CALL,DESCRIPTION,EXPECTED,RETURNED) \
      RETURNED = CALL; \
      if (RETURNED != EXPECTED) { \
         fprintf (stderr,_ERROR, __FILE__,__LINE__); \
         fprintf (stderr, "PAPI_%s() error = %s\n", \
                 DESCRIPTION,PAPI_strerror(RETURNED)); \
         fflush(stderr); \
      }
#else
#  define PAPI_OK   0
#  define PAPI_NULL 0
#  define _CALL_PAPI(CALL,DESCRIPTION,EXPECTED,RETURNED) RETURNED = 0;
#endif

/*----------------------------------------------------------------------*/
/* Handle -D PAPI3 */
/*----------------------------------------------------------------------*/

#ifdef PAPI3
#  define PAPI3_ARG_ADJUST 
#  define PAPI3_remove_event PAPI_remove_event
#else
#  define PAPI3_ARG_ADJUST &
#  define PAPI3_remove_event PAPI_rem_event
#endif

/*----------------------------------------------------------------------*/
/* Define types for attributes */
/*----------------------------------------------------------------------*/

#define LCAP_UNKNOWN 0
#define LCAP_STRING  1
#define LCAP_INT     2
#define LCAP_DOUBLE  3

/*----------------------------------------------------------------------*/
/* Define string-related constants */
/*----------------------------------------------------------------------*/

#define LCAP_STRING_MAX  100
#define LCAP_STRING_NULL "*"

#endif
