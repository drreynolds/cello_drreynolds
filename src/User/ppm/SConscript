Import('env')

components = ['user','field', 'parameters', 'error','disk','memory','monitor','parallel','cello']
libraries  = ['hdf5', 'png','boost_thread-mt', '$FORTRANLIBS']

env = env.Clone (LIBS = [components,libraries])

sources_extra = ['../write_hydro.cpp', '../print_fields.cpp']
sources  = [Glob('initialize*cpp'),
            Glob('Cosmology*.cpp'),
            Glob('Grid_*cpp'),
            Glob('*.F'),
           'cello_hydro.cpp',
           'c_message.cpp',
           '../data_dump.cpp',
	   '../image_dump.cpp',
	   '../initialize_hydro.cpp',
	   'FindField.cpp',
           'SetExternalBoundary.cpp',
           'sum_field.cpp',
	   sources_extra]



binaries = [env.Program (['test_ppm.cpp',      sources])]

libraries = env.Library ('user-ppm', sources)

env.Alias('install-bin', env.Install ('$BINPATH', binaries))
env.Alias('install-lib',env.Install ('#/lib',    libraries))
