%0       1         2         3         4         5         6         7         8
%2345678901234567890123456789012345678901234567890123456789012345678901234567890

\documentclass[11pt]{article}

\include{include}

% Testing specific new commands
\newcommand{\testresults}{\{ \Label{Pass}, \Label{Fail}, \Label{Unknown}, \Label{NA} \} }

\newcommand{\testproblems}{\{ \\ 
   \> \> \Label{p1}:(single-point-source gravity), \\ 
   \> \> \Label{p2}:(multiple-point-source gravity), \\ 
   \> \> \Label{h3}:(typical gravity),  \\ 
   \> \> \Label{h3}:(typical FLD),  \\ 
   \> \> \Label{h3}:(typical Paschos) \}}

\newcommand{\testhierarchy}{\{ \\ 
   \> \> \Label{h1}:(simple local), \\ 
   \> \> \Label{h2}:(simple distributed), \\ 
   \> \> \Label{h3}:(complex local),  \\ 
   \> \> \Label{h4}:(complex distributed) \}}

\newcommand{\testenzohierarchy}{\{ \\ 
   \> \> \Label{h1}:(unigrid local), \\ 
   \> \> \Label{h2}:(unigrid distributed), \\ 
   \> \> \Label{h3}:(AMR local),  \\ 
   \> \> \Label{h4}:(AMR distributed) \}}

\newcommand{\testiterator}{\{ \\ 
   \> \> \Label{i1}:\class{ItLevels}, \\ 
   \> \> \Label{i2}:\class{ItGrids}, \\ 
   \> \> \Label{i3}:\class{ItMyGrids}, \\ 
   \> \> \Label{i4}:\class{ItNeighborGrids} \} }

\newcommand{\testvectoroperators}{\{ \\
   \> \> \Label{o1}:(\code{vertices()}), \\
   \> \> \Label{o2}:(\code{unknowns()}), \\
   \> \> \Label{o3}:(\code{dot()}), \\
   \> \> \Label{o4}:(\code{zaxpy()}), \\
   \> \> \Label{o5}:(\code{refresh()}) \}}

\newcommand{\testmatrixoperators}{\{ \\
   \> \> \Label{o1}:(\code{matvec()}), \\
   \> \> \Label{o2}:(\code{residual()}) \}}

\newcommand{\testgridoperators}{\{ \\
   \> \> \Label{o1}:(\code{vertices()}), \\
   \> \> \Label{o2}:(\code{parent()}) , \\
   \> \> \Label{o3}:(\code{sibling()}), \\
   \> \> \Label{o4}:(\code{child()}), \\
   \> \> \Label{o5}:(\code{isReal()}) \}}

\newcommand{\testmatrixtype}{\{ \\
   \> \> \Label{m1}:(\class{Matrix7c}), \\
   \> \> \Label{m2}:(\class{Matrix7}), \\
   \> \> \Label{m3}:(\class{Matrix19}) \}}

\newcommand{\testsolver}{\{ \\
   \> \> \Label{s1}:(\class{SolverCG}), \\
   \> \> \Label{s2}:(\class{SolverMG}) \}}


\begin{document}

%========================================================================
\TITLE{\amrSolve \\ Software Test Documentation}{James Bordner}{1.0}
%========================================================================

%======================================================================
\section{Overview}
%======================================================================
%-----------------------------------------------------------------------
\subsection{Test Categories}
%-----------------------------------------------------------------------

Below are the categories of tests used, and the sections they
are described in.

\begin{tabular}{clll}
Label & \multicolumn{1}{c}{Category} & \multicolumn{1}{c}{Section} & \multicolumn{1}{c}{Description} \\ \hline
\Label{TU} & Unit tests& (\S\ref{s:unit}) & \textit{tests basic functionality of individual \amrSolve\ classes} \\
\Label{TI} & Integration tests & (\S\ref{s:integration}) & \textit{tests integration of \amrSolve\ with \enzo} \\
\Label{TA} & Application tests & (\S\ref{s:application}) & \textit{tests correctness of \amrSolve\ on ``real'' problems} \\
\Label{TP} & Performance tests & (\S\ref{s:performance}) & \textit{tests performance of \amrSolve\ on ``real'' problems}
\end{tabular}


%======================================================================
\section{Unit Tests (\Label{TU})} \label{s:unit}
%======================================================================

%-----------------------------------------------------------------------
\subsection{\class{Hierarchy} Unit Tests (\Label{TU-H})}
%-----------------------------------------------------------------------

\textbf{Description:} \class{Hierarchy} topology unit tests. \\
\textbf{Purpose:} Find bugs related to the \class{Hierarchy} class and
its associated component and iterator classes. \\
\textbf{Frequency:} Run during implementation and before tagging each minor version.\\
\textbf{Test IDs.} Test ID's have the form ``\Label{TU-H-\textit{hierarchy}-\textit{iterator}}'', where
%
\begin{tabbing}
\TABS
\> \textit{hierarchy} $\in$ \testhierarchy \\ \\
\> \textit{iterator} $\in$ \testiterator 
\end{tabbing}
%
\textbf{Test criteria.} Compare the actual \class{Grid}s traversed with
                   the expected \class{Grid} traversed. \\
%
\textbf{Test results.} Test results are \textit{result} $\in$ \testresults


%-----------------------------------------------------------------------
\subsection{\class{Vector} Unit Tests (\Label{TU-V})}
%-----------------------------------------------------------------------

\textbf{Description:} \class{Vector} unit tests. \\
\textbf{Purpose:} Find bugs related to the \class{Vector} class and
its associated component classes. \\
\textbf{Frequency:} Run during implementation and before tagging each minor version.\\
\textbf{Test IDs.} Test ID's have the form ``\Label{TU-V-\textit{hierarchy}-\textit{operation}}'', where
\begin{tabbing}
\TABS
\> \textit{hierarchy} $\in$ \testhierarchy  \\ \\
\> \textit{operation} $\in$ \testvectoroperators
\end{tabbing}
%
\textbf{Test criteria.} Compare the actual \class{Vector} operator results with
                   the expected results. \\
%
\textbf{Test results.} Test results are \textit{result} $\in$ \testresults


%-----------------------------------------------------------------------
\subsection{\class{Matrix} Unit Tests (\Label{TU-M})}
%-----------------------------------------------------------------------


\textbf{Description:} \class{Matrix}  unit tests. \\
\textbf{Purpose:} Find bugs related to the \class{Matrix} class and
its derived classes. \\
\textbf{Frequency:} Run during implementation and before tagging each minor version.\\
\textbf{Test IDs.} Test ID's have the form ``\Label{TU-M-\textit{hierarchy}-\textit{matrix}-\textit{operator}}'', where
%
\begin{tabbing}
\TABS
\> \textit{hierarchy} $\in$ \testhierarchy \\ \\
\> \textit{matrix} $\in$ \testmatrixtype \\ \\
\> \textit{operator} $\in$ \testmatrixoperators
\end{tabbing}
%
\textbf{Test criteria.} Compare the actual \class{Matrix} operation results
                   with the expected results. \\
%
\textbf{Test results.} Test results are \textit{result} $\in$ \testresults


%-----------------------------------------------------------------------
\subsection{\class{Solver} Unit Tests (\Label{TU-S})}
%-----------------------------------------------------------------------


\textbf{Description:} \class{Solver} unit tests. \\
\textbf{Purpose:} Find bugs related to the \class{Solver} class and
its derived classes. \\
\textbf{Frequency:} Run during implementation and before tagging each minor version.\\
\textbf{Test IDs.} Test ID's have the form ``\Label{TU-S-\textit{hierarchy}-\textit{solver}-\textit{matrix}}'', where
%
\begin{tabbing}
\TABS
\> \textit{hierarchy} $\in$ \testhierarchy \\ \\
\> \textit{solver} $\in$ \testsolver \\ \\
\> \textit{matrix} $\in$ \testmatrixtype
\end{tabbing}
%
\textbf{Test criteria.} Compare the actual \class{Solver} solution with
                   the expected solution. \\
%
\textbf{Test results.} Test results are \textit{result} $\in$ \testresults

%======================================================================
\section{Integration Tests (\Label{TI})} \label{s:integration}
%======================================================================

%-----------------------------------------------------------------------
\subsection{\class{Grid} Integration Tests (\Label{TI-G})}
%-----------------------------------------------------------------------

\textbf{Description:} \class{Grid} integration tests. \\
\textbf{Purpose:} Find bugs related to integrating \amrSolve \class{Grid} classes
    with \enzo\ \class{grid} classes.\\
\textbf{Frequency:} Run during integration and before tagging each minor version.\\
\textbf{Test IDs.} Test ID's have the form ``\Label{TI-G-\textit{hierarchy}-\textit{grid}-\textit{operation}}'', where
%
\begin{tabbing}
\TABS
\> \textit{hierarchy} $\in$ \testenzohierarchy \\ \\
\> \textit{operation} $\in$ \testgridoperators
\end{tabbing}
%
\textbf{Test criteria.} Compare the \class{Vector} operation results from
              to the expected values. \\
%
\textbf{Test results.} Test results are \textit{result} $\in$ \testresults

%-----------------------------------------------------------------------
\subsection{\class{Vector} Integration Tests (\Label{TI-V})}
%-----------------------------------------------------------------------

\textbf{Description:} \class{Vector} integration tests. \\
\textbf{Purpose:} Find bugs related to integrating \amrSolve \class{Grid} classes
    with \enzo\ data fields.\\
\textbf{Frequency:} Run during integration and before tagging each minor version.\\
\textbf{Test IDs.} Test ID's have the form ``\Label{TI-V-\textit{hierarchy}-\textit{operation}}'', where
%
\begin{tabbing}
\TABS
\> \textit{hierarchy} $\in$ \testenzohierarchy \\ \\
\> \textit{operation} $\in$ \testvectoroperators
\end{tabbing}
%
\textbf{Test criteria.} Compare the results \class{Grid}s traversed with
                   the expected \class{Grid} traversed. \\
%
\textbf{Test results.} Test results are \textit{result} $\in$ \testresults

%-----------------------------------------------------------------------
\subsection{\class{Solver} Integration Tests (\Label{TI-S})}
%-----------------------------------------------------------------------

\textbf{Description:} \class{Solver} integration tests. \\
\textbf{Purpose:} Find bugs related to solving linear systems using
   \amrSolve\ called from \enzo. \\
\textbf{Frequency:} Run during integration and before tagging each minor version.\\
\textbf{Test IDs.} Test ID's have the form ``\Label{TI-S-\textit{hierarchy}-\textit{operation}}'', where
%
\begin{tabbing}
\TABS
\> \textit{hierarchy} $\in$ \testenzohierarchy \\ \\
\> \textit{solver} $\in$ \testsolver \\ \\
\> \textit{matrix} $\in$ \testmatrixtype
\end{tabbing}
%
\textbf{Test criteria.} Compare the \class{Solver} solution to the expected result. \\
%
\textbf{Test results.} Test results are \textit{result} $\in$ \testresults

%======================================================================
\section{Application Tests (\Label{TA})} \label{s:application}
%======================================================================

\textbf{Description:} Application tests. \\
\textbf{Purpose:} Find bugs related to accuracy and robustness of \amrSolve\
    linear solvers. \\
\textbf{Frequency:} Run before tagging each stable version.\\
\textbf{Test IDs.} Test ID's have the form ``\Label{TA-\textit{problem}-\textit{solver}-\textit{matrix}}'', where
%
\begin{tabbing}
\TABS
\> \textit{problem} $\in$ \testproblems \\ \\
\> \textit{solver} $\in$ \testsolver \\ \\
\> \textit{matrix} $\in$ \testmatrixtype
\end{tabbing}
%
\textbf{Test criteria.} Compare the actual \class{Solver} solution with
                  the expected if known, or convergence criteria otherwise. \\
%
\textbf{Test results.} Test results are \textit{result} $\in$ \testresults


%======================================================================
\section{Performance Tests (\Label{TP})} \label{s:performance}
%======================================================================

\textbf{Description:} Application tests. \\
\textbf{Purpose:} Find bugs related to performance of \amrSolve\
    linear solvers. \\
\textbf{Frequency:} Run before tagging each stable version.\\
\textbf{Test IDs.} Test ID's have the form ``\Label{TP-\textit{problem}-\textit{solver}-\textit{matrix}}'', where
%
\begin{tabbing}
\TABS
\> \textit{problem} $\in$ \testproblems \\ \\
\> \textit{solver} $\in$ \testsolver \\ \\
\> \textit{matrix} $\in$ \testmatrixtype
\end{tabbing}
%
\textbf{Test criteria.} Compare time to solution using \class{Solver}s with
                  what is considered ``acceptable''. \\
%
\textbf{Test results.} Test results are \textit{result} $\in$ \testresults

\appendix

\section{Test Logs}

%==================================================================
\end{document}
%==================================================================


