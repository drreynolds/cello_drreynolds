%\newcommand{\includepsgrid}{\psgrid}
% \newcommand{\includepsgrid}{}

%=======================================================================
% Point
%=======================================================================

   \newcommand{\drawClassPoint}{%
      \umlClass[umlShadow=false]{Point}{%
         \hline
         Point () \\
         get () \\
         set () \\
	 operator () () \\
         operator <= () \\
         sort ()%
   }}

   \newcommand{\umlPoint}{
   \begin{center}
   \begin{pspicture}(3,3.5)\includepsgrid
     \rput[lb](0,0){\rnode{ClassPoint}{\drawClassPoint}}
   \end{pspicture}
   \end{center}}

%=======================================================================
% Grid
%=======================================================================

   \newcommand{\drawClassGrid}{%
      \umlClass[umlShadow=false]{Grid}{%
         \hline
         + Grid () \\
         + \textit{attach} () \\
         + \textit{detach} () \\
         + size() \\
         + range() \\
         + center() \\
         + isNeighbor() \\
         + map () \\
         + invmap () \\
         + numNeighbors() \\
         + numChildren() \\
         + neighbor() \\
         + child() \\
         + parent() \\
         + volume () \\
         + level () \\
         + hierarchy () \\
         + summary () %
   }}

   \newcommand{\umlGrid}{
   \begin{center}
   \begin{pspicture}(4,9)\includepsgrid
     \rput[lb](0,0){\rnode{ClassGrid}{\drawClassGrid}}
   \end{pspicture}
   \end{center}}

%=======================================================================
% Level
%=======================================================================

   \newcommand{\drawClassLevel}{%
      \umlClass[umlShadow=false]{Level}{%
         \hline
         + Level () \\
         + \textit{attach} () \\
         + \textit{detach} () \\
         + numGrids() \\
         + grid() \\
         + volume () \\
         + covering() \\
         + finer() \\
         + coarser() \\
         + hierarchy() \\
         - assertNeighbors() %
   }}

   \newcommand{\umlLevel}{
   \begin{center}
   \begin{pspicture}(4,6)\includepsgrid
     \rput[lb](0,0){\rnode{ClassLevel}{\drawClassLevel}}
   \end{pspicture}
   \end{center}}

%=======================================================================
% Hierarchy
%=======================================================================

   \newcommand{\drawClassHierarchy}{%
      \umlClass[umlShadow=false]{Hierarchy}{%
         \hline
         + Hierarchy () \\
         + \textit{attach} () \\
         + \textit{detach} () \\
         + numLevels() \\
         + numGrids() \\
         + level() \\
         - assertParent() %
   }}

   \newcommand{\umlHierarchy}{
   \begin{center}
   \begin{pspicture}(4,4)\includepsgrid
     \rput[lb](0,0){\rnode{ClassHierarchy}{\drawClassHierarchy}}
   \end{pspicture}
   \end{center}}

%=======================================================================
% Iterator
%=======================================================================

   \newcommand{\drawClassIterator}{%
      \umlClass[umlShadow=false]{\textit{Iterator}}{%
         \hline
         Iterator () \\
         operator ++() \\
         operator * () \\
         operator begin () \\
         operator end () \\
         operator reset ()%
   }}

   \newcommand{\drawClassItGrids}{%
      \umlClass[umlShadow=false]{ItGrids}{%
   }}

   \newcommand{\drawClassItLevels}{%
      \umlClass[umlShadow=false]{ItLevels}{%
   }}

   \newcommand{\drawClassItChildren}{%
      \umlClass[umlShadow=false]{ItChildren}{%
   }}

   \newcommand{\drawClassItNeighbors}{%
      \umlClass[umlShadow=false]{ItNeighbors}{%
   }}

   \newcommand{\umlIterator}{%
   \begin{center}
   \begin{pspicture}(8,3.5)\includepsgrid
     \rput[lb](0,0){\rnode{ClassIterator}{\drawClassIterator}}
     \rput[lb](5.5,3){\rnode{ClassItLevels}{\drawClassItLevels}}
     \rput[lb](5.5,2){\rnode{ClassItGrids}{\drawClassItGrids}}
     \rput[lb](5.5,1){\rnode{ClassItChildren}{\drawClassItChildren}}
     \rput[lb](5.5,0){\rnode{ClassItNeighbors}{\drawClassItNeighbors}}
     \pnode(4,0.5){pnode1}
   \end{pspicture}
   \ncEVE[armA=1]{ClassIterator}{ClassItLevels}
   \ncEVE[armA=1]{ClassIterator}{ClassItGrids}
   \ncEVE[armA=1]{ClassIterator}{ClassItChildren}
   \ncEVE[armA=1]{ClassIterator}{ClassItNeighbors}
   \ncputicon{umlHerit}
   \end{center}}


%=======================================================================
% Vector
%=======================================================================

   \newcommand{\drawClassVectorAbc}{%
      \umlClass[umlShadow=false]{\textit{VectorAbc}}{%
         \hline
         + VectorAbc () \\
         + \textit{attach}() \\
         + \textit{detach}() \\
         + dot() \\
         + zaxpy() \\
         + set() \\
         + scale() \\
         + copy() \\
         + refresh()%
   }}

   \newcommand{\drawClassVectorGrid}{%
      \umlClass[umlShadow=false]{VectorGrid}{%
   }}

   \newcommand{\drawClassVectorLevel}{%
      \umlClass[umlShadow=false]{VectorLevel}{%
   }}

   \newcommand{\drawClassVectorHierarchy}{%
      \umlClass[umlShadow=false]{VectorHierarchy}{%
   }}

   \newcommand{\umlVector}{
   \begin{center}
   \begin{pspicture}(7.5,4.5)\includepsgrid
     \rput[lb](0,0){\rnode{ClassVectorAbc}{\drawClassVectorAbc}}
     \rput[lb](5,3){\rnode{ClassVectorGrid}{\drawClassVectorGrid}}
     \rput[lb](5,2){\rnode{ClassVectorLevel}{\drawClassVectorLevel}}
     \rput[lb](5,1){\rnode{ClassVectorHierarchy}{\drawClassVectorHierarchy}}
     \pnode(4.5,0.5){pnode1}
   \end{pspicture}
   \ncEVE[armA=1]{ClassVectorAbc}{ClassVectorGrid}
   \ncEVE[armA=1]{ClassVectorAbc}{ClassVectorLevel}
   \ncEVE[armA=1]{ClassVectorAbc}{ClassVectorHierarchy}
   \ncputicon{umlHerit}
   \end{center}}

%=======================================================================
% Matrix
%=======================================================================

   \newcommand{\drawClassMatrix}{%
      \umlClass[umlShadow=false]{Matrix}{%
         \hline
         Matrix () \\
         size() \\
         matvec() \\
         residual()%
   }}

   \newcommand{\umlMatrix}{
   \begin{center}
   \begin{pspicture}(2.5,2.5)\includepsgrid
     \rput[lb](0,0){\rnode{ClassMatrix}{\drawClassMatrix}}
   \end{pspicture}
   \end{center}}

%=======================================================================
% Solver
%=======================================================================

   \newcommand{\drawClassSolver}{%
      \umlClass[umlShadow=false]{Solver}{%
         \hline
         Solver () \\
         apply() \\
         status()%
   }}

   \newcommand{\umlSolver}{
   \begin{center}
   \begin{pspicture}(2,2)\includepsgrid
     \rput[lb](0,0){\rnode{ClassSolver}{\drawClassSolver}}
   \end{pspicture}
   \end{center}}
