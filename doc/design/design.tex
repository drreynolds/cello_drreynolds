%0       1         2         3         4         5         6         7         8
%2345678901234567890123456789012345678901234567890123456789012345678901234567890
%=======================================================================
\documentclass{article}
%=======================================================================

\include{include}

%=======================================================================

\begin{document}

%=======================================================================
\TITLE{Software Design Document}{James Bordner}{v0.0.1}
%=======================================================================

%=======================================================================
\section{Introduction} \label{s:intro}
%=======================================================================

\note{Languages: C++ / C99}

\note{Parallelism: MPI, MPI2, OpenMP, pthreads, UPC}

\note{Hide parallelism and datastructures from physics}


%=======================================================================
\section{Compilation configuration} \label{s:compile}
%=======================================================================

%=======================================================================
\section{Command-line options} \label{s:commandline}
%=======================================================================

%=======================================================================
\section{Initial run-time input} \label{s:input}
%=======================================================================

\cello\ is controlled by parameters specified in an input file.



\subsection{Problem}

Problem parameters specify the problem setup.

  dimensionality
  domain extents
  initial conditions (materials, regions, input)
 boundary conditions (periodic, in-/out-flow, specified, dynamic)

\subsection{Physics}

 Specify physics components
 hydrodynamics
  cosmological expansion
 self-gravity

\subsection{Algorithms} 

Specify algorithms and their parameters
 PPM hydro (dual-energy, etc.)
 gravity solver (FAC, smoother, levels, etc.)

\subsection{Datastructures} 

Specify datastructures and their parameters
 PatchAMR (levels, grid size or count, rebuild method, distribution)
 Field storage (blocked, padded, interleved)

\subsection{Parallelism} 

Specifiy parallelism and parameters
 MPI (send/recv and type, one-sided and type, what level)
 OpenMP (num threads, what level)
 UPC (num threads, what level)
 pthreads (num threads, what level)
 cooperative parallelism
 levels for each if multiple

\subsection{Output} 

Output types and parameters
 checkpoint (dump all)
 output (specific fields)
 movies (type and rate)
 analysis (type of analysis, rate)
 level of output (files for timestep, time, etc.)

\subsection{Control} 

Global control
 fault tolerance methodology
 adaptivity

\subsection{Performance} 

Performance monitoring



%=======================================================================
\section{Objects} \label{s:intro}
%=======================================================================

\begin{description}
\item[\code{Hierarchy}: ] SAMR grid hierarchy
\item[\code{Level}: ]     A level in an SAMR grid hierarchy
\item[\code{Grid}: ]      A grid patch in an SAMR grid hierarchy
\item[\code{Field}: ]     A data field
\item[\code{PatchAMR}: ]  Structured-AMR method
\item[\code{CellAMR}: ]   Continuous-AMR method
\item[\code{Units}: ]     Data field units
\item[\code{Array}: ]     A Fortran-style array, possibly ``chunked'' or ``padded''
\item[\code{CoArray}: ]   A Co-array Fortran-style co-array
\item[\code{Particles}: ] A collection of particles
\item[\code{Scheduler}: ]  Hierarchical parallelism task scheduler
\item[\code{Dependencies}: ] Dependencies for tasks
\item[\code{Tasks}: ]     A collection of parallel tasks
\item[\code{Bc}: ]        Boundary conditions
      Schedule (for organizing parallel tasks)
\item[\code{Box}: ]       Low-level grid (KeLP functionality)
\item[\code{Balance}: ]    Load-balancing
\item[\code{Timesteping}: ] Time-stepping
\item[\code{IO}: ]         Parallel IO
\end{description}

%==================================================================
\end{document}
%==================================================================

