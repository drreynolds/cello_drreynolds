%0       1         2         3         4         5         6         7         8
%2345678901234567890123456789012345678901234567890123456789012345678901234567890
%=======================================================================
\documentclass{book}
%=======================================================================

\newcommand{\req}[2]{\textbf{R#1}: \textit{#2} \\}

\include{include}

%=======================================================================

\begin{document}

%=======================================================================
\TITLE{Software Requirements Specification}{James Bordner}{\textbf{v0.1}}
%=======================================================================

%=======================================================================
\chapter{Introduction} \label{s:intro}
%=======================================================================

%=======================================================================
\section{General}
%=======================================================================

\req{0001}{The system shall support single simulations}
\req{0001}{The system should support multiple simulations}
\req{}{The simulation initial and boundary conditions should be explicitly specified by the user}
\req{}{The simulation initial and boundary condition specification should be sufficiently powerful to set up all
   known test problems in the literature that can be run given the
   supported physics capabilities.}
\req{}{The simulation input shall include ``deep'' parameter control of all supported physics and parallel datastructures}
\req{}{All standard test problems should be directly supported.  @@@ list specific test problems}
\req{}{User input shall include a single text file for problem specification @@@ glossary: problem specification: }
\req{}{User input may include a graphical user interface (GUI) @@@ glossary: graphical user interface: for problem specification}
\req{}{The system shall support simulations in $1$-D, $2$-D, or $3$-D}
\req{}{The system shall output text information to the user regarding the current state of the simulation}
\req{}{The system should output visual information to the user regarding the current state of the simulation}
\req{}{The system shall enable external modification of physics and data-structure parameters of a running simulation}
\req{}{The system shall attempt to recover from numerical errors (NaN, Inf)}
\req{}{The system shall support outputing data for restart dumps}
\req{}{The system shall support restarting a computation that has not completed with at most $10\%$ loss of total simulation time}

%=======================================================================
\section{Physics}
%=======================================================================

%-----------------------------------------------------------------------
\subsection{Methods}
%-----------------------------------------------------------------------

\req{0001}{The system shall perform hydrodynamics computations}
\req{0005}{The system shall perform self-gravity computations}
\req{0006}{The system shall perform radiative cooling computations}
\req{0007}{The system shall perform multispecies chemistry computations}
\req{0008}{The system shall perform star-formation computations}
\req{0009}{The system shall perform magnetohydrodynamic computations}
\req{0010}{The system shall perform radiative transfer computations}

\req{0004}{The system shall support cosmological expansion}

%-----------------------------------------------------------------------
\subsection{Fields}
%-----------------------------------------------------------------------

\req{0002}{The system shall be able to represent ideal gas density, velocity, and @@@energy}
\req{0003}{The system shall be able to represent dark matter density and velocity}
\req{0004}{The system should support multiple ideal gases}

%
%-----------------------------------------------------------------------
\subsection{Resolution}
%-----------------------------------------------------------------------
\req{}{Simulation dynamic resolution range @@@ glossary: dynamic resolution range: shall be at least $2^64$, e.g.~$1024^3$ @@@glossary: root grid: with $27$ additional levels of refinement by $4$)}
\req{}{Simulation resolution range should be at least $2^128$}
\req{}{Simulation size shall be virtually unbounded (run on largest parallel computer available)}

%=======================================================================
\section{Performance}
%=======================================================================
\req{0200}{The system shall support multiple levels of parallelism}
\req{0201}{The system shall support a data-parallel model using point-to-point @@@glossary MPI-1 communication}
\req{0202}{The system may support a data-parallel model using one-sided @@@glossary MPI-2 communication} 
\req{0200}{The system shall support multiple levels of parallelism}
\req{}{The system shall support OpenMP shared memory parallelism with parallel efficiency at least $80\%$ of maximum based on flops and memory relative to single-core up to $100$ cores}
\req{}{The system shall support uniform resolution problems with at least $10\%$ average core flop rate on largest platform sizes available.}
\req{}{The system shall support moderately non-uniform resolution problems (dynamic resolution range of $2^32$) with at least $3\%$ average core flop rate on largest platform sizes available.}
\req{}{The system shall support highly non-uniform resolution problems (dynamic resolution range of $2^48$) with $1\%$ average core flop rate and $50\%$ parallel efficiency on largest platform sizes available.}
\req{}{The system shall support highly non-uniform resolution problems on the largest platform sizes available that have at least $1GB$ memory per computational element.}

%=======================================================================
\section{Resolution}
%=======================================================================
\req{0100}{}

@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

\appendix


\end{document}

%==================================================================
